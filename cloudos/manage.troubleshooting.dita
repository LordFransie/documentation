<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" ><topic xml:lang="en-us" id="topic29621">
<title>HP Cloud OS Troubleshooting</title>
<prolog>
<metadata>
<othermeta name="layout" content="default"/>
</metadata>
</prolog>
<body>
<p>
<!--PUBLISHED-->
 <!--./cloudos/manage.troubleshooting.md-->
 <!--permalink: /cloudos/manage/troubleshooting/--></p>
<!-- Look for passwords -->
<p>This topic describes known problems and solutions for the following areas:</p>
<ul>
<li>
<p>
<xref type="section" href="#topic29621/troubleshooting-cloud-os-iso">Troubleshooting Cloud OS ISO</xref>
</p>

<ul>
<li>
<xref type="section" href="#topic29621/problem-iso-error-running-on-a-vm-hosted-on-a-kvm-hypervisor">Problem: ISO Error Running on a VM Hosted on a KVM Hypervisor</xref>
</li>
</ul>
</li>
<li>
<p>
<xref type="section" href="#topic29621/troubleshooting-cloud-os-operational-dashboard">Troubleshooting Cloud OS Operational Dashboard</xref>
</p>

<ul>
<li>
<xref type="section" href="#topic29621/problem-admin-node-displays-the-not-ready-gray-state">Problem: Admin node displays the "not ready" (gray) state</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-create-new-router-fails">Problem: Create new router fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-when-creating-a-new-pxe-node-the-pxe-boot-fails-with-a-tftp-timeout-error">Problem: When creating a new PXE node, the PXE boot fails with a TFTP timeout error</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-manage-nodes-window-not-updating-the-status">Problem: Manage Nodes window not updating the status</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-create-cloud-or-compute-region-fails">Problem: Create cloud or compute region fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-admin-node-internet-access-prerequisites-fail-to-complete">Problem: Admin node internet access prerequisites fail to complete</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-instance-not-getting-ip-from-a-private-network">Problem: Instance not getting IP from a private network</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-admin-node-redirects-to-license-page">Problem: Admin node redirects to License page</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-fiber-channel-errors-when-booting-node">Problem: Fiber-Channel errors when booting node</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-error-in-the-log-during-deploy-cloud">Problem: Error in the log during Deploy Cloud</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-services-not-started-after-controller-node-is-rebooted">Problem: Services not started after controller node is rebooted</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-a-cloud-os-solution-displays-a-yellow-exception-screen">Problem: A Cloud OS solution displays a yellow exception screen</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-cloud-os-does-not-work-after-a-restart">Problem: Cloud OS does not work after a restart</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-compute-node-not-listed-in-the-user-interface">Problem: Compute node not listed in the user-interface</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-the-time-zone-in-the-controller-node-is-incorrect">Problem: The time zone in the Controller node is incorrect</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-compute-node-fails-to-install-os-kernel-error">Problem: Compute node fails to install OS (kernel error)</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-problem-creating-images-using-remote-location">Problem: Problem creating images using remote location</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-problem-creating-image-using-image-file">Problem: Problem creating image using image file</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-unable-to-launch-more-instances">Problem: Unable to launch more instances</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-default-route-disappears-from-controller-node">Problem: Default route disappears from Controller node</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-not-possible-to-log-in-the-dashboard-license-has-expired">Problem: Not possible to log in the dashboard (license has expired)</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-create-cloud-failed">Problem: Create Cloud failed</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-find-why-launch-topology-fails">Problem: Find why Launch Topology fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-unauthorized-exceptions-when-navigating-in-the-dashboard">Problem: Unauthorized exceptions when navigating in the dashboard</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-location-of-the-log-files">Problem: Location of the log files</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-launch-topology-fails-and-instance-is-created-but-with-error-status">Problem: Launch topology fails and Instance is created but with Error status</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-complete-node-internet-access-prerequisite-hangs-and-then-fails">Problem: Complete node internet access prerequisite hangs and then fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-incorrect-manage-node-status-prevents-use-of-the-node">Problem: Incorrect Manage Node status prevents use of the node</xref>
</li>
</ul>
</li>
<li>
<p>
<xref type="section" href="#topic29621/troubleshooting-cloud-os-administration-dashboard">Troubleshooting Cloud OS Administration Dashboard</xref>
</p>

<ul>
<li>
<xref type="section" href="#topic29621/problem-console-connect-timeout-issue-in-the-administration-dashboard">Problem: Console Connect timeout issue in the Administration Dashboard</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-default-ubuntu-cloud-image-and-cirros-images-only-show-one-active-network-even-if-multiple-networks-are-specified">Problem: Default Ubuntu cloud image and CirrOS images only show one active network even if multiple networks are specified</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-instance-resize-feature-does-not-work-when-there-is-only-a-single-compute-node">Problem: Instance resize feature does not work when there is only a single Compute node</xref>
</li>
</ul>
</li>
<li>
<p>
<xref type="section" href="#topic29621/troubleshooting-cloud-os-installation">Troubleshooting Cloud OS Installation</xref>
</p>

<ul>
<li>
<xref type="section" href="#topic29621/problem-cloud-infrastructure-install-module-proposal-fails">Problem: Cloud Infrastructure install module proposal fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-cloud-controller-node-or-compute-region-node-displays-the-not-ready-gray-state">Problem: Cloud Controller node or Compute Region node displays the "not ready" (gray) state</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-stopping-services-before-cloud-os-completes-processing-jobs-can-cause-a-job-failure">Problem: Stopping services before Cloud OS completes processing jobs can cause a job failure</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-how-to-configure-cinder-to-use-raw-multipath-devices">Problem: How to configure Cinder to use RAW multipath devices</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-red-screen-when-installing-os-on-baremetal-nodes">Problem: Red screen when installing OS on baremetal nodes</xref>
</li>
</ul>
</li>
</ul>
<p>
  <xref type="section" href="#topic29621/top"> Return to Top </xref>
</p>
<section id="troubleshooting-cloud-os-iso"> <title>Troubleshooting Cloud OS ISO</title>
<p>This section describes the following known problems and solutions for the Cloud OS ISO:</p>
</section>
<section id="problem-iso-error-running-on-a-vm-hosted-on-a-kvm-hypervisor"> <title>Problem: ISO Error Running on a VM Hosted on a KVM Hypervisor</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The HP Cloud OS ISO shows an error when running on a virtual machine (VM) hosted on a KVM hypervisor. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> ISO </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> No root file system, no root file system is defined. </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This error is due to the format of the virtual disk that is configured for the VM. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Before booting the VM with the HP Cloud OS ISO media, ensure that the virtual disk format is IDE or SCSI.</p>
<p>
  <xref type="section" href="#topic29621/top"> Return to Top </xref>
</p>
</section>
<section id="troubleshooting-cloud-os-operational-dashboard"> <title>Troubleshooting Cloud OS Operational Dashboard</title>
<p>This section describes the following known problems and solutions for the Operational Dashboard:</p>
<ul>
<li>
<xref type="section" href="#topic29621/problem-admin-node-displays-the-not-ready-gray-state">Problem: Admin node displays the "not ready" (gray) state</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-create-new-router-fails">Problem: Create new router fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-when-creating-a-new-pxe-node-the-pxe-boot-fails-with-a-tftp-timeout-error">Problem: When creating a new PXE node, the PXE boot fails with a TFTP timeout error</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-manage-nodes-window-not-updating-the-status">Problem: Manage Nodes window not updating the status</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-create-cloud-or-compute-region-fails">Problem: Create cloud or compute region fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-admin-node-internet-access-prerequisites-fail-to-complete">Problem: Admin node internet access prerequisites fail to complete</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-instance-not-getting-ip-from-a-private-network">Problem: Instance not getting IP from a private network</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-admin-node-redirects-to-license-page">Problem: Admin node redirects to License page</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-fiber-channel-errors-when-booting-node">Problem: Fiber-Channel errors when booting node</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-error-in-the-log-during-deploy-cloud">Problem: Error in the log during Deploy Cloud</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-services-not-started-after-controller-node-is-rebooted">Problem: Services not started after Controller node is rebooted</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-a-cloud-os-solution-displays-a-yellow-exception-screen">Problem: A Cloud OS solution displays a yellow exception screen</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-cloud-os-does-not-work-after-a-restart">Problem: Cloud OS does not work after a restart</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-compute-node-not-listed-in-the-user-interface">Problem: Compute node not listed in the user-interface</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-the-time-zone-in-the-controller-node-is-incorrect">Problem: The time zone in the Controller node is incorrect</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-compute-node-fails-to-install-os-kernel-error">Problem: Compute node fails to install OS (kernel error)</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-problem-creating-images-using-remote-location">Problem: Problem creating images using remote location</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-problem-creating-image-using-image-file">Problem: Problem creating image using image file</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-unable-to-launch-more-instances">Problem: Unable to launch more instances</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-default-route-disappears-from-controller-node">Problem: Default route disappears from Controller node</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-not-possible-to-log-in-the-dashboard-license-has-expired">Problem: Not possible to log in the dashboard (license has expired)</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-create-cloud-failed">Problem: Create Cloud failed</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-find-why-launch-topology-fails">Problem: Find why Launch Topology ails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-unauthorized-exceptions-when-navigating-in-the-dashboard">Problem: Unauthorized exceptions when navigating in the dashboard</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-location-of-the-log-files">Problem: Location of the log files</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-launch-topology-fails-and-instance-is-created-but-with-error-status">Problem: Launch topology fails and Instance is created but with Error status</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-complete-node-internet-access-prerequisite-hangs-and-then-fails">Problem: Complete node internet access prerequisite hangs and then fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-incorrect-manage-node-status-prevents-use-of-the-node">Problem: Incorrect Manage Node status prevents use of the node</xref>
</li>
</ul>
</section>
<section id="problem-admin-node-displays-the-not-ready-gray-state"> <title>Problem: Admin node displays the "not ready" (gray) state</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> You cannot PXE boot new nodes. This problem occurs when you re-install Cloud OS on machines that were previously used with a Cloud OS environment. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>    </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> You changed the date on the Admin node or you brought up a previously allocated node to the Admin node.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<ol>
<li>Create a new Admin node.</li>
<li>Before setting up the Admin node, be sure to power down all participating nodes that were running controller and compute roles.</li>
<li>After the Admin node is set up, you must use the PXE boot process to power up the participating nodes.</li>
</ol>
<p>See <xref href="../cloudos/install.dita" >Install &amp; Configure Your Cloud</xref> for complete instructions. If the nodes boot to the original operating system that was set up with the earlier Admin node, the boot process will cause irreparable damage to the Admin node and the entire process must be restarted.</p>
</section>
<section id="problem-create-new-router-fails"> <title>Problem: Create new router fails</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> Your attempt to create a new router fails, either in the designer or when manually creating a new router and adding the interfaces.   </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Failed to add interface to router &lt;router-name&gt; </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Your environment already contains a router that is configured to connect the networks you are attempting to connect. Only one router is allowed to connect networks.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Use the existing router to provision, instead of creating a new one.</p>
</section>
<section id="problem-when-creating-a-new-pxe-node-the-pxe-boot-fails-with-a-tftp-timeout-error"> <title>Problem: When creating a new PXE node, the PXE boot fails with a TFTP timeout error</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> In the Operational Dashboard, the Admin node takes a long time to reboot. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node   </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>    </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This occurs in a few cases after the Admin node is rebooted. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<ol>
<li> Log in to the Admin node and run the following commands:

<codeblock>
sudo bluepill tftpd stop
sudo bluepill tftpd start
</codeblock>  

</li>

<li> After these commands have run, PXE boot the nodes.

</li>
</ol>
</section>
<section id="problem-manage-nodes-window-not-updating-the-status"> <title>Problem: Manage Nodes window not updating the status</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The status of the Manage Nodes window does not update after you perform an operation.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>  N/A  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The Manage Node window needs to refresh, so it will show updated node status.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Navigate to other menus, and then back to the Manage Nodes tab to force the display to update.</p>
</section>
<section id="problem-create-cloud-or-compute-region-fails"> <title>Problem: Create cloud or compute region fails</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The operation to create a cloud or a compute region fails without a known cause.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Failed  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> One or more of the nodes used wasn't ready to be used or is in a bad state. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<ol>
<li>Check whether the nodes you are using are in a good status. Use SSH to check:</li>
</ol>
<ul>
<li>Node not with problem or hanged in PXE boot (PXE-MOF: Exiting Emulex PXE ROM).  In this case, reboot the node and perform another PXE boot.</li>
<li>Chef-client running in the node. If no errors occur, re-try the operation. Otherwise, reboot the node and perform another PXE boot. </li>
</ul>
<ol>
<li>If SSH does not reveal the problem, check the logs for more information.</li>
</ol>
<codeblock>
/var/log/cosmos/cosmos.log
/var/log/apache2/error.log
</codeblock>
</section>
<section id="problem-admin-node-internet-access-prerequisites-fail-to-complete"> <title>Problem: Admin node internet access prerequisites fail to complete</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> You work through the steps for the Cloud Administration node internet access prerequisite. You click <b>Complete Prerequisite</b>, and a failure message displays.   </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Failed completing the Prerequisite.  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> You selected an interface that does not exist in your environment. For example, if your system contains two NICs, (eth0 and eth1), selecting eth2 will cause the prerequisite to fail.
On the Admin node, view the log files for details:

<codeblock>
/var/log/cosmos/cosmos.log
/var/log/apache2/error.log
</codeblock>

</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<ul>
<li>Verify that a public network is configured in the Admin node.</li>
<li>Redo the steps for Cloud Administration node internet access prerequisite - see "Set Admin Node Prerequisites" in the HP Cloud OS Installation and Configuration Dashboard.</li>
<li>Correct the proxy entries and/or specify a different proxy host and/or port.</li>
</ul>
<p>You must do pre-work before starting cloud deployment. If there are any incorrect details, the entire operation must be re-done.</p>
<p>The pre-work includes:</p>
<ul>
<li>Identifying the NIC card sequence for Admin, OS_SDN and Public interfaces on all participating machines. </li>
<li>Identifying the private IP range for hosts and guest VMs.</li>
<li>Identifying the Public IP range for hosts and guestVMs.</li>
</ul>
</section>
<section id="problem-instance-not-getting-ip-from-a-private-network"> <title>Problem: Instance not getting IP from a private network</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry>  You create a new private network. New launched instances do not get IP from that network.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>  N/A  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry>   </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Restart the network services on the network controller. Execute the command below in the respective node.</p>
<codeblock>
cd /etc/init.d/
for i in $( ls quantum-* ); do sudo service $i restart; done
</codeblock>
</section>
<section id="problem-admin-node-redirects-to-license-page"> <title>Problem: Admin node redirects to License page</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> Every operation that you execute in the Admin node redirects you to the License page. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The license is expired. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Contact HP Support to renew your license.</p>
</section>
<section id="problem-fiber-channel-errors-when-booting-node"> <title>Problem: Fiber-Channel errors when booting node</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> After a node is allocated, a Fiber-Channel (FC) error appears during the operational system boot. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Blocked FC remote port timeout: removing rport </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The blade FC connection is not configured. That causes a timeout, and the port is removed from the OS level. See screen capture. </entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <image href="../media/cloudos-fiber-channel-errors.png"/>
</p>
</section>
<section id="solution"> <title>Solution</title>
<p>This problem can be ignored and shouldn't cause future problems. In the unlikely event of side-effects, contact HP Support.</p>
</section>
<section id="problem-error-in-the-log-during-deploy-cloud"> <title>Problem: Error in the log during Deploy Cloud</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> A PXE boot and installation completes with success. However, the Compute node is not listed in the user-interface (UI).   </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Crowbar configuration has errors. Please fix and rerun install. </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This is a known message in the logs, which likely does not signify a problem. You should be able to use the cloud.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>You can ignore this error message. If you experience any other problem during cloud deployment, contact HP Support.</p>
</section>
<section id="problem-services-not-started-after-controller-node-is-rebooted"> <title>Problem: Services not started after Controller node is rebooted</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> After you reboot the Controller node, some of the services are not started.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Controller node  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This is likely a timing issue, caused by the hardware you use. For example, one possible reason is that your server configuration is less than the minimum required.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Use SSH to connect to the Controller node. Then use the following commands to learn whether services are started. If a service is stopped, start it manually.</p>
<codeblock>
for job in $( ls /etc/init.d/nova-* ); do service ${job##*/} status; done
for job in $( ls /etc/init.d/cinder-* ); do service ${job##*/} status; done
for job in $( ls /etc/init.d/quantum-* ); do service ${job##*/} status; done
</codeblock>
</section>
<section id="problem-a-cloud-os-solution-displays-a-yellow-exception-screen"> <title>Problem: A Cloud OS solution displays a yellow exception screen</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> A yellow exception screen occurs when you are navigating in a dashboard.   </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Installation, Administration and Operational Dashboards</entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Value Error at XYZ </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The Cloud OS solution could not get specific information, or the information was wrong. See the following screen capture examples. </entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <image href="../media/cloudos-yellow-screen.png"/>
</p>
</section>
<section id="solution"> <title>Solution</title>
<p>Refresh your browser. If the problem persists, contact HP Support.</p>
</section>
<section id="problem-cloud-os-does-not-work-after-a-restart"> <title>Problem: Cloud OS does not work after a restart</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> After you restart all the nodes, the Cloud OS solution doesn't work as before. Services do not work as expected. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> General problems using the solution. </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Sometimes, after a restart, the services don't start automatically, or services start in a bad state. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Check whether all services are running well in the Controller node.  First, declare all the system variables, and then execute:</p>
<ul>
<li>
<codeph>keystone user-list</codeph> (Should </li>
<li>a list of all users.)</li>
<li>
<codeph>glance index</codeph> (Should return a list of images.)</li>
<li>
<codeph>cinder list</codeph> (Should return a list of volumes, if any were created.)</li>
<li>
<codeph>quantum agent-list</codeph> (Should return a list of agents with "happy" status.)</li>
<li>
<codeph>nova-manage service list</codeph> (Should return a list of services with "happy" status.)</li>
</ul>
</section>
<section id="problem-compute-node-not-listed-in-the-user-interface"> <title>Problem: Compute node not listed in the user interface</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> After a successful PXE boot and installation, the Compute node does not display in the user interface. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> N/A </entry>
<entry>    </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> A Cloud OS network with more than one DHCP server running.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>If the installation completed without a problem and the node is not listed, probably the node booted using a different DHCP server. The Cloud OS network should be isolated.</p>
</section>
<section id="problem-the-time-zone-in-the-controller-node-is-incorrect"> <title>Problem: The time zone in the Controller node is incorrect</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> By default, the time zone in the Controller node will be different from the time zone in the Admin node.   </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Controller node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>  N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This behavior is by design.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Change the time zone in the Controller node to the one you want. Use the following command:</p>
<codeblock>
pkg-reconfigure tzdata.
</codeblock>
</section>
<section id="problem-compute-node-fails-to-install-os-kernel-error"> <title>Problem: Compute node fails to install OS (kernel error)</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> After you reboot the Controller node, some of the services are not started. The services should be started. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The server configuration (hardware) is not supported by the OS.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Investigate the problem. Normally, the problem is related to the hardware used. Try an Internet search on the specific error.</p>
</section>
<section id="problem-problem-creating-images-using-remote-location"> <title>Problem: Problem creating images using remote location</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> Cannot create an image pointing to an external server, when using the remote location option. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Connection was reset </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Connectivity problem between the server with the image and the Controller node. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Check whether the Controller node can access the image server. SSH to the server and execute this command:</p>
<codeblock>
curl -O http://server.ip/image.file
</codeblock>
<p>If the curl does not work, you know that the server can't access the image. You probably have a proxy issue or no connectivity. Fix the issue and try again.</p>
</section>
<section id="problem-problem-creating-image-using-image-file"> <title>Problem: Problem creating image using Image File</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> Cannot create an image pointing to a file that is located on your local system, when using the Image File option. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Connection was reset </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The image is bigger than the supported limit for this specific operation. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>You cannot use the Image File option (which is for images on your local system) to upload images bigger than 1.5 GB. 
The solution is to:</p>
<ol>
<li>Win SCP to the Admin node.</li>
<li>Upload the image to /tmp/.</li>
<li>Change the permission of the file to 777 (chmod 777 /tmp/&lt;image.name&gt;).</li>
<li>Move the file to the folder <codeph>tftpboot</codeph>.</li>
<li>Create the image pointing to this URL (http://&lt;admin.node.ip&gt;:8091/&lt;image.name&gt;).</li>
</ol>
</section>
<section id="problem-unable-to-launch-more-instances"> <title>Problem: Unable to launch more instances</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> You have created instances successfully. Then "Launch new instance" fails. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Quota exceeded for instances: Requested 1, but already used 1 of 1 instances", "code": 413  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> You have reached the limit of instances that are allowed for your project. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>To change the project limits,  see How to Change a Project's Compute or Storage Limits in the <i>Cloud OS Administration Dashboard Help</i>.</p>
</section>
<section id="problem-default-route-disappears-from-controller-node"> <title>Problem: Default route disappears from Controller node</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The default route disappears from the Controller node after reboot. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This behavior is by design. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>You do not need to do anything. The default route should automatically be re-added within 20 minutes of the node reboot. However, you can manually start the process by connecting to the Controller node and executing the command <codeph>chef-client</codeph>.</p>
</section>
<section id="problem-not-possible-to-log-in-the-dashboard-license-has-expired"> <title>Problem: Not possible to log in the dashboard (license has expired)</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> You cannot open or log in to any of the dashboards.   </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>  The HP Cloud OS license has expired  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry>  You are attempting to use an expired license. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Contact HP Support to renew your license, and then add the new license in the 
Admin node (Settings &gt; License).</p>
</section>
<section id="problem-create-cloud-failed"> <title>Problem: Create Cloud failed</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry>  The operation to create a cloud failed without providing any useful failure information.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Check the logs for indications of a possible cause.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Check the logs below for more information. The logs may help you understand the cause of the error.</p>
<codeblock>
/opt/dell/crowbar_framework/log/production.log
/opt/dell/crowbar_framework/log/* (for more information)
/var/log/barclamps/*
</codeblock>
</section>
<section id="problem-find-why-launch-topology-fails"> <title>Problem: Find why Launch Topology fails</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The operation to create a cloud failed without providing any useful failure information. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Check the logs for indications of a possible cause. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Click on the failed topology to see the details of the error. If the message doesn't explain why the provisioning failed, check the 
Cloud OS logs in the Controller node located at:</p>
<codeblock>
/var/log/eve-requestworker/eve-requestworker.log
/var/log/eve-api/eve-api.log
</codeblock>
</section>
<section id="problem-unauthorized-exceptions-when-navigating-in-the-dashboard"> <title>Problem: Unauthorized exceptions when navigating in the dashboard</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> While navigating through the Operational Dashboard, you see an Unauthorized error, and no items display in the user interface. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Unauthorized (HTTP 401) </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Your session expired, but you did not log out from the Operational Dashboard. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Navigate to another item in the Operational Dashboard menu. If the problem persists, logout and login again.</p>
</section>
<section id="problem-location-of-the-log-files"> <title>Problem: Location of the log files</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> You want to check the logs or collect the logs for further investigation. However, the logs are not all saved in one place. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry>   </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>    </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> You need to check all the logs to discover the cause of a failure. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<ul>
<li>Admin node logs:</li>
</ul>
<codeblock>
  /var/log/cosmos/cosmos.log
  /var/log/apache2/error.log
</codeblock>
<ul>
<li>Deploy Cloud Logs:</li>
</ul>
<codeblock>
  /var/log/install*.log
  /var/log/install*.err
</codeblock>
<ul>
<li>Controller node logs:</li>
</ul>
<codeblock>
  /var/log/cosmos/cosmos.log
  /var/log/apache2/error.log
</codeblock>
<ul>
<li>Deploying Admin node:</li>
</ul>
<codeblock>
  /opt/dell/crowbar_framework/log/production.log
  /opt/dell/crowbar_framework/log/* 
  /var/log/barclamps/* 
</codeblock>
<ul>
<li>Launch Topology Logs:</li>
</ul>
<codeblock>
  /var/log/eve-api/eve-api.log
  /var/log/eve-requestworker/eve-requestworker.log
  /var/log/focus-api/focus-api.log
  /var/log/graffiti-api/graffiti.log
</codeblock>
</section>
<section id="problem-launch-topology-fails-and-instance-is-created-but-with-error-status"> <title>Problem: Launch topology fails and instance is created but with error status</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> Your attempt to launch a topology fails, but all the components in the design (for example, router, network, etc.) are successfully created. The instance has an Error status.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Operational Dashboard </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> This problem is usually because Cloud OS services had a problem executing the operation. Likely, this happened in an I18N environment. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Clean up all the items (for example, router, network, groups, and instance) created by the failed topology launch.  In the Controller node, restart the following Cloud OS services:</p>
<codeblock>
service eve-requestworker restart
service eve-api restart
</codeblock>
</section>
<section id="problem-complete-node-internet-access-prerequisite-hangs-and-then-fails"> <title>Problem: Complete node internet access prerequisite hangs and then fails</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> "Complete the Cloud Administration Node Internet Access" prerequisite hangs for a long time and then fails.  </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Unable to access the Internet. Check network and proxy settings.  </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The Admin node server can't access the Internet using the proxy information that was used to configure the prerequisite. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<ol>
<li>Check whether the proxy details are correct. If the details are incorrect, fix them and try again.</li>
<li>Check whether the Admin node has access to the proxy server. If it does not have access, fix the problem and try again.</li>
<li>The last option is to remove the proxy information and complete the prerequisite without the proxy information.</li>
</ol>
</section>
<section id="problem-incorrect-manage-node-status-prevents-use-of-the-node"> <title>Problem: Incorrect Manage Node status prevents use of the node</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> After some operations, the Manage Node status remains incorrect, for example "Resetting." The node is not usable. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Admin node </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> For an unknown reason, the node entered an invalid state, and its status is not being updated. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution:</title>
<p>If the node is not in use, shut it down, power it on again, and make it PXE boot again. This should fix the status and set the node to "Not Allocated," allowing you to use the node again.</p>
<p>
  <xref type="section" href="#topic29621/top"> Return to Top </xref>
</p>
</section>
<section id="troubleshooting-cloud-os-administration-dashboard"> <title>Troubleshooting Cloud OS Administration Dashboard</title>
<p>This section describes the following known problems and solutions for the Administration Dashboard:</p>
<ul>
<li>
<xref type="section" href="#topic29621/problem-console-connect-timeout-issue-in-the-administration-dashboard">Problem: Console Connect timeout issue in the Administration Dashboard</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-default-ubuntu-cloud-image-and-cirros-images-only-show-one-active-network-even-if-multiple-networks-are-specified">Problem: Default Ubuntu cloud image and CirrOS images only show one active network even if multiple networks are specified</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-instance-resize-feature-does-not-work-when-there-is-only-a-single-compute-node">Problem: Instance resize feature does not work when there is only a single Compute node</xref>
</li>
</ul>
</section>
<section id="problem-console-connect-timeout-issue-in-the-administration-dashboard"> <title>Problem: Console Connect timeout issue in the Administration Dashboard</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> In the Administration Dashboard, if you click a provisioned instance and use Internet Explorer to open the Console, a Console Connect timeout issue occurs. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Browser used for the Console in Administration Dashboard. </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Console Connect timeout </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Microsoft Internet Explorer browser is not supported. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Only use Google Chrome 14 or Mozilla Firefox 6 to open the Console.</p>
</section>
<section id="problem-default-ubuntu-cloud-image-and-cirros-images-only-show-one-active-network-even-if-multiple-networks-are-specified"> <title>Problem: Default Ubuntu cloud image and CirrOS images only show one active network even if multiple networks are specified</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The default Ubuntu cloud image and CirrOS images have only one active NIC in their network configuration. If you specify multiple VNICs (networks) when creating a VM, only the first interface is used. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Administration Dashboard  </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>    </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The default number of networks for the Ubuntu cloud image and CirrOS images is one. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>There are two ways to make the second NIC active.</p>
<ol>
<li>Bring up eth1 manually. 
<p>Place the entry for the eth1 in /etc/network/interfaces file to make it persistent across reboots.</p>
<p>Sample eth1 entry:</p>
<codeblock>
auto eth1
iface eth1 inet dhcp 
dhclient eth1 
</codeblock>
<p> (The last command above will query for the DHCP ip for eth1.) </p> </li>

<li>Create a custom image with 2 active NICs. 

<p>To do this, specify both eth0 and eth1 in the ./etc/network/interfaces file while creating an image.</p>  </li>

</ol>
</section>
<section id="problem-instance-resize-feature-does-not-work-when-there-is-only-a-single-compute-node"> <title>Problem: Instance resize feature does not work when there is only a single Compute node</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> In a cloud with only one Compute node, you attempt to resize an instance to a different flavor. The operation fails. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Browser used for the Console in Administration Dashboard. </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Instance resize only works when your environment includes multiple Compute nodes. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Use this feature only if your HP Cloud OS environment includes multiple Compute nodes.</p>
<p>
  <xref type="section" href="#topic29621/top"> Return to Top </xref>
</p>
</section>
<section id="troubleshooting-cloud-os-installation"> <title>Troubleshooting Cloud OS Installation</title>
<p>This section describes the following known problems and solutions for the Installation Dashboard:</p>
<ul>
<li>
<xref type="section" href="#topic29621/problem-cloud-infrastructure-install-module-proposal-fails">Problem: Cloud Infrastructure install module proposal fails</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-cloud-controller-node-or-compute-region-node-displays-the-not-ready-gray-state">Problem: Cloud Controller node or Compute Region node displays the "not ready" (gray) state</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-stopping-services-before-cloud-os-completes-processing-jobs-can-cause-a-job-failure">Problem: Stopping services before Cloud OS completes processing jobs can cause a job failure</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-how-to-configure-cinder-to-use-raw-multipath-devices">Problem: How to configure Cinder to use RAW multipath devices</xref>
</li>
<li>
<xref type="section" href="#topic29621/problem-red-screen-when-installing-os-on-baremetal-nodes">Problem: Red screen when installing OS on baremetal nodes</xref>
</li>
</ul>
</section>
<section id="problem-cloud-infrastructure-install-module-proposal-fails"> <title>Problem: Cloud Infrastructure install module proposal fails</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> An error message displays and the status turns red when a proposal fails. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Installation Dashboard </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> Failed to apply the proposal to: &lt;Cloud Controller Node name&gt; </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> There are several possible causes. See the Solution section. </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Try applying the proposal again. If that fails:</p>
<ul>
<li>Deactivate the proposal.</li>
<li>Delete the proposal and create it again.</li>
<li>SSH in to the Admin node using the credentials: crowbar/crowbar.</li>
<li>Review the log files /opt/dell/crowbar_framework/log/production.log and &lt;MacAddressHostname&gt;.chef.log.</li>
<li>Review the log file /var/log/apache2/error.log.</li>
<li>Review the folder /var/tmp/cosmos and verify the installer settings.</li>
</ul>
</section>
<section id="problem-cloud-controller-node-or-compute-region-node-displays-the-not-ready-gray-state"> <title>Problem: Cloud Controller node or Compute Region node displays the "not ready" (gray) state</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry>  Installation Dashboard is unable to monitor the Cloud Controller node or the Compute Region node. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Installation Dashboard </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>    </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The Cloud Controller node or the Compute Region node has not updated the live status to the Admin node.  </entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Log in to the suspect node through SSH and run <codeph>sudo chef-client</codeph>. This will force the node to update its status with Chef.</p>
</section>
<section id="problem-stopping-services-before-cloud-os-completes-processing-jobs-can-cause-a-job-failure"> <title>Problem: Stopping services before Cloud OS completes processing jobs can cause a job failure</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The state of the job may vary in this situation. The job might fail with an error message or be stuck in processing with no error message. In some cases, the job might resume after the service restarts. Make sure all the processing jobs are completed or canceled before stopping any Cloud OS services. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry>   </entry>
</row>
<row>
<entry> Failure message </entry>
<entry>   </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> Jobs may fail if services (such as Eve, Peer, and Focus) are stopped before Cloud OS completes provisioning or deprovisioning the jobs. </entry>

</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Wait for the jobs that are processing to complete, or manually terminate those jobs. Then re-apply the install modules or restart the upstart services manually in the Installation Dashboard.</p>
</section>
<section id="problem-how-to-configure-cinder-to-use-raw-multipath-devices"> <title>Problem: How to configure Cinder to use RAW multipath devices</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> The administrator wants to configure Cinder to use a multipath device. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Installation </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> N/A </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> By default, Cinder doesn't come configured for multipath.</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="solution"> <title>Solution</title>
<p>Configure multipath storage. Use the following commands:</p>
<codeblock>
apt-get install multipath-tools
cp /home/crowbar/multipath.conf /etc
/lib/udev/scsi_id -g -u -d /dev/sdb
<required-cleanup remap="nobr">
<ph>sed \-i 's/36001438005df087b0000600003d40000/Replace with value from line #3/' /etc/multipath.conf</ph>
</required-cleanup>
cat /etc/multipath.conf
reboot
</codeblock>
<codeblock>
pvcreate /dev/mapper/iaasc
vgcreate nova_instances /dev/mapper/iaasc
lvcreate -L999G -n logical_nova1 nova_instances
mke2fs -t ext4 /dev/nova_instances/logical_nova1
mount -t ext4 /dev/nova_instances/logical_nova1 /var/lib/nova/instances/
chown nova:nova /var/lib/nova/instances/
restart nova-compute
<required-cleanup remap="nobr">
<ph>sed -i '$ a /dev/nova_instances/logical_nova1 /var/lib/nova/instances 0 2' /etc/fstab</ph>
</required-cleanup>
</codeblock>
<p>After that, follow the instruction below post reboot:</p>
<codeblock>
pvcreate --metadatasize 1020 /dev/mapper/iaasc
vgextend cinder-volumes /dev/mapper/iaasc
vgreduce cinder-volumes  /dev/loop0
</codeblock>
</section>
<section id="problem-red-screen-when-installing-os-on-baremetal-nodes"> <title>Problem: Red screen when installing OS on baremetal nodes</title>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<tbody>
<row>
<entry> Symptoms </entry>
<entry> During the installation process, the partition cannot be created. </entry>
</row>
<row>
<entry> Primary software component </entry>
<entry> Installation </entry>
</row>
<row>
<entry> Failure message </entry>
<entry> No root file system is defined </entry>
</row>
<row>
<entry> Probable cause </entry>
<entry> The iLO lost the virtual drive connection. See the example screen capture.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <image href="../media/cloudos-red-screen.png"/>
</p>
</section>
<section id="solution"> <title>Solution</title>
<p>Reboot the server, check whether the iLO is still mapped correctly, and re-execute the operation.</p>
<p>
  <xref type="section" href="#topic29621/top"> Return to Top </xref>
</p>
</section>
</body>
</topic>
