<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic xml:lang="en-us" id="topic19556">
    <title>HP Helion OpenStack(R) 1.1: DNSaaS Configuration (Optional)</title>
    <prolog>
        <metadata>
            <othermeta name="layout" content="default"/>
            <othermeta name="product-version" content="HP Helion OpenStack(R)"/>
            <othermeta name="product-version" content="HP Helion OpenStack(R) 1.0"/>
            <othermeta name="product-version" content="HP Helion OpenStack(R) 1.0.1"/>
            <othermeta name="product-version" content="HP Helion OpenStack(R) 1.1"/>
            <othermeta name="role" content="Network Administrator"/>
            <othermeta name="role" content="Network Architect"/>
            <othermeta name="role" content="Vikas Deolaliker, Paul Kevin"/>
            <othermeta name="product-version1" content="HP Helion OpenStack(R)"/>
            <othermeta name="product-version2" content="HP Helion OpenStack(R) 1.0"/>
            <othermeta name="product-version3" content="HP Helion OpenStack(R) 1.0.1"/>
            <othermeta name="product-version4" content="HP Helion OpenStack(R) 1.1"/>
        </metadata>
    </prolog>
    <body>
        <p><!--PUBLISHED--><!--./commercial/GA1/neutron/1.1commercial_neutron-post-installation-configure-network.md--><!--permalink: /helion/openstack/1.1/services/neutron/post/installation/configure-dnsaas/--></p>
        <p>Our managed DNS service, based on the OpenStack Designate project, is engineered to help
            you create, publish, and manage your DNS zones and records securely and efficiently to
            either a public or private DNS server network.</p>
        <p>It is important to read through this page before starting your installation as it
            explains how to install and configure DNS as a service (DNSaaS) for HP Helion
            OpenStack.</p>
        <p><b>Caution</b>: Before migrating to DNSaaS 1.01, you <b><i>must</i></b> first <xref
                href="../../../CarrierGrade/AdminGuideNew/Backup/carrier-grade-admin-wr-backup-cinder.dita"
                >uninstall</xref> DNSaaS 1.0. Do <b>not</b> attempt to install version 1.01 over the
            previous version. </p>
        <section id="dnaas-config">
            <title>DNSaaS Configuration</title>
            <p> Our managed DNS service, based on the OpenStack Designate project, is engineered to
                help you create, publish, and manage your DNS zones and records securely and
                efficiently to either a public or private DNS server network.</p>
            <p>It is important to read through this page before starting your installation as it
                explains how to install and configure DNS as a service (DNSaaS) for HP Helion
                OpenStack.</p>
            <p><b>Note</b>: These installation instructions assume that the associated project
                currently contains no instances (VMs). If this is not the case, see the instructions
                    for<xref
                    href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#increasequotas-jumplink-span"
                    format="html" scope="external">increasing quotas</xref> to ensure you have
                enough space before you begin.</p>
            <p><b>Caution</b>: DNSaaS 1.1 will <b>only</b> install on Helion OpenStack 1.1 Do
                    <b>not</b>attempt to install DNSaaS on any previous versions.</p>
            <ul id="ul_cy1_jm4_ks">
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#preq-jumplink-span"
                        format="html" scope="external">Prerequisites</xref></li>
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#credentials-jumplink-span"
                        format="html" scope="external">Creating Prerequisite Credentials</xref><ul
                        id="ul_ow5_k44_ks">
                        <li><xref
                                href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#target-cred-jumplink-span"
                                format="html" scope="external">Target Credentials</xref></li>
                    </ul><ul id="ul_o5c_fm4_ks">
                        <li><xref
                                href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#service-cred-jumplink-span"
                                format="html" scope="external">Service Credentials</xref></li>
                    </ul></li>
            </ul>
            <ul id="ul_tw1_n44_ks">
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#publication-jumplink-span"
                        format="html" scope="external">Sherpa CSU Publication and Booting the
                        Installer VM</xref></li>
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#configure-jumplink-span"
                        format="html" scope="external">Installing and Configuring DNSaaS</xref></li>
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#configovercloud-jumplink-span"
                        format="html" scope="external">Configure the Overcloud Load Balancer for
                        DNSaaS</xref></li>
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#keyreg-jumplink-span"
                        format="html" scope="external">Registering the Service with
                    Keystone</xref></li>
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#uninstall-jumplink-span"
                        format="html" scope="external">Uninstalling DNaaS</xref></li>
                <li><xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#moreinfo-jumplink-span"
                        format="html" scope="external">More Information</xref></li>
            </ul>
        </section>
        <section>
            <title><b>Prerequisites</b></title>
            <p><b>Caution</b>: DNSaaS 1.1 will <b>only</b> install on Helion OpenStack 1.1 Do
                    <b>not</b>attempt to install DNSaaS on any previous versions.</p>
            <p><b>Note</b>: These installation instructions assume that the associated project
                currently contains no instances (VMs). If this is not the case, see the instructions
                    for<xref
                    href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#increasequotas-jumplink-span"
                    format="html" scope="external">increasing quotas</xref> to ensure you have
                enough space before you begin.<ul id="ul_tcg_yj4_ks">
                    <li>HP Helion OpenStack is successfully installed</li>
                    <li>Download <xref
                            href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#publication-jumplink-span"
                            format="html" scope="external">DNSaaS Installer Image</xref>
                    </li>
                    <li>Obtain <xref
                            href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#target-cred-jumplink-span"
                            format="html" scope="external">Target Credentials</xref>: credentials of
                        the user+tenant where the service is to be deployed.<ul id="ul_sch_2k4_ks">
                            <li>This user should have the <b>admin</b> and <b>_member_</b>
                                roles</li>
                            <li>Username</li>
                        </ul><ul id="ul_yjs_1k4_ks">
                            <li>Password</li>
                            <li>Tenant/Project Name</li>
                        </ul></li>
                </ul></p>
            <ul id="ul_gmv_hk4_ks">
                <li>Obtain <xref
                        href="http://docs.hpcloud.com/helion/openstack/1.1/install/dnsaas/#service-cred-jumplink-span"
                        format="html" scope="external">Service Credentials</xref>: credentials for
                    the user+tenant used to validate end user tokens.<ul id="ul_lzd_lk4_ks">
                        <li>This user should be in the <b>service</b> tenant, have the <b>admin</b>
                                and<b>_member_</b> roles, and be called <b>designate</b>.</li>
                        <li>Username</li>
                        <li>Password</li>
                        <li>Tenant/Project Name</li>
                    </ul></li>
                <li>A generated SSH Key for accessing the Service VMs</li>
                <li>A chosen backend driver and its prerequisites:<ul id="ul_dwr_vk4_ks">
                        <li>PowerDNS (self hosted)<p>A domain name for the nameservers ("Namesever
                                FQDNs"). For example, if your nameservers are to be named
                                    <i>ns1.mycompany.com</i>, you will need the <i>mycompany.com</i>
                                domain.</p></li>
                        <li>Microsoft DNS (self-hosted)<ul id="ul_e5g_gl4_ks">
                                <li>At least one Microsoft DNS server installed and configured</li>
                                <li>Knowledge of the FQDNs for all MS DNS servers to be used
                                    ("Namesever FQDNs")</li>
                            </ul></li>
                        <li>DynECT (3rd Party)<ul id="ul_dcl_nl4_ks">
                                <li>An active service contract with DynECT</li>
                                <li>Knowledge of the FQDNs for all DynECT nameservers allocated to
                                    your account ("Namsever FQDNs")<ul id="ul_fpl_5l4_ks">
                                        <li>ns1.p13.dynect.net.</li>
                                        <li>ns2.p13.dynect.net.</li>
                                        <li>ns3.p13.dynect.net.</li>
                                        <li>ns4.p13.dynect.net.</li>
                                    </ul></li>
                                <li>API credentials for DynECT<ul id="ul_irq_ql4_ks">
                                        <li>Customer Name</li>
                                        <li>Username</li>
                                        <li>Password</li>
                                    </ul></li>
                            </ul></li>
                        <li>Akamai (3rd Party)<ul id="ul_nt5_xk4_ks">
                                <li>An active service contract with Akamai</li>
                                <li>Knowledge of the FQDNs for all Akamai nameservers allocated to
                                    your account ("Namesever FQDNs")</li>
                                <li>API credentials for Akamai<ul id="ul_qxs_cm4_ks">
                                        <li>Username</li>
                                        <li>Password</li>
                                    </ul></li>
                            </ul></li>
                    </ul></li>
            </ul>
        </section>
        <p><b>Important:</b> The DNS install will not work if the associated project has existing
            instances (VMs). If the project has existing VMs, the admin must increase the quota
            levels to the following for that project before attempting to install DNS.<ul
                id="ul_s4x_lm4_ks">
                <li>instances:16</li>
                <li>RAM: 44 GB</li>
                <li>Volumes: 6</li>
                <li>Storage:240</li>
            </ul></p>
        <section>
            <title><b>Creating Prerequisite Credentials</b></title>
            <p>You must create both <b>target</b> and <b>service</b> credentials.</p>
            <title><b>Target Credentials</b></title>
            <p>Target credentials are the credentials of the user+tenant where the service is to be
                deployed. Target credentials include a <b>tenant</b> and a <b>username</b>. Service
                credentials can only be created after the Target credentials have been successfully
                    created.<ul id="ul_tdw_1n4_ks">
                    <li>Create
                        tenant<codeblock>keystone tenant-create --name dnsaas --description "DNSaaS Service" </codeblock></li>
                    <li>Create
                        username<codeblock>keystone user-create --name dnsaas --tenant dnsaas --email dnsaas@example.com --pass password</codeblock></li>
                    <li>Add role (this role is added for
                        user)<codeblock>$ keystone user-role-add --user dnsaas --tenant dnsaas --role admin</codeblock></li>
                </ul></p>
            <title><b>Service Credentials</b></title>
            <p>Service Credentials are credentials for the user+tenant used to validate end user
                tokens. Service credentials can only be created after the Target credentials have
                been successfully created. This user should be in the <b>service</b> tenant, have
                    the<b>admin</b> and <b>_member_</b> roles, and be named <b>designate</b>.<ul
                    id="ul_z33_nn4_ks">
                    <li>Create service
                        credentials<codeblock>keystone user-create --name designate --tenant service --email designate@example.com --pass password</codeblock></li>
                    <li>Add admin role to service user
                        command<codeblock>keystone user-role-add --user designate --tenant service --role admin</codeblock></li>
                </ul></p>
            <title><b>Sherpa CSU Publication and Booting the Installer VM</b></title>
            <p>Before proceeding with the DNaaS installation, ensure that you have met all the
                prerequisites, which includes gathering the required information, creating the
                necessary users/projects and ensuring the users/projects have the appropriate roles.
                Failure to do so will result in a failed install.</p>
            <title><b>Publish CSU contents</b></title>
            <ol id="ol_jkv_vn4_ks">
                <li>Log in to the Horizon dashboard using <b>Target Credentials</b>.</li>
                <li>Click <b>Admin</b> Tab in the left panel.<p>The tab displays an option in the
                        left panel.</p></li>
                <li> Click <b>Updates and Extensions</b> and then select <b>Updates and
                        Extensions</b>to open the Updates and Extensions page.</li>
                <li>Click <b>Configure</b> in the top-right corner of the page to display the
                    Configure dialog box.</li>
                <li>Log in with Helion Content Delivery Network credentials. If you do not yet have
                    login credentials for the Helion Delivery Network, create an account.<ol
                        id="ol_hy4_dq4_ks">
                        <li>On the Horizon undercloud dashboard, click the <b>Admin</b> tab in the
                            left panel</li>
                        <li>Click <b>Updates and Extensions</b> and then select <b>Updates and
                                Extensions</b> to open the Updates and Extensions page.</li>
                        <li>Click <b>Configure</b> in the top-right corner of the page to display
                            the Configure dialog box.</li>
                        <li>Click <b>Sign up Now</b> below the description in the Configure dialog
                            box.The page navigates to the HP Helion Product Catalog. Then, do the
                            following:</li>
                        <li>Click <b>Sign In</b> in the top of the page to open the HP Web ID dialog
                            box.</li>
                        <li>Click <b>Sign Up for Web ID</b> to create log-in credentials. The HP WEB
                            ID dialog box is displayed.</li>
                        <li> Enter the required details.</li>
                        <li>Select the check box next to <b>I agree to the Terms of Use</b> to
                            accept the terms and conditions.</li>
                        <li>Click <b>Submit</b>.The credentials are authenticated and the account is
                            created. Once you register on the HP Helion Product Catalog, you are
                            required to configure your credentials.</li>
                    </ol></li>
                <li>Click <b>Download</b> against the package that you want to download on your
                    local system from a list of .csu file.</li>
                <li>Select the appropriate file (for example: <b>dns.csu</b>) from the list and
                        click<b>Publish</b>.</li>
                <li>Click <b>Publish</b> to install the package.<p/></li>
            </ol>
            <title><b>Boot the installer VM</b></title>
            <ol id="ol_l1d_nq4_ks">
                <li/>
            </ol>
        </section>
    </body>
</topic>
